---
title: 第1章 简单工厂模式
date: '2021-08-15 15:21'
swiper: false
categories: 《大话设计模式》读书笔记
tags:
  - 设计模式
swiperImg: https://img14.360buyimg.com/ddimg/jfs/t1/202184/6/1462/1286039/6118c1d9E9ad4985c/6577ccacc7770fbb.png
img: https://img14.360buyimg.com/ddimg/jfs/t1/202184/6/1462/1286039/6118c1d9E9ad4985c/6577ccacc7770fbb.png
top: true
abbrlink: 4228647784
---

## 简单工厂模式是什么？用来干啥？
**设想一下，如果有很多个类，都是完成类似的工作。那么就可以写一个工厂类就像一个中间人一样，来帮助我们选择需要的类来创建对象，而不用我们自己去new，UML图如下：**
![](/medias/第1章简单工厂模式/0.png)
**比如要做一个计算器程序，需要设计加减乘除等运算类 和 去调用这些运算并显示结果的客户端类，可以创建一个工厂类**
![](/medias/第1章简单工厂模式/1.png)

---

##  用简单工厂模式有什么好处呢？
**工厂类可以通过逻辑判断，来决定在什么时候创建哪一个产品类的实例，这样客户端可以不用自己去new对象了。简单工厂模式能够根据外界给定的信息，决定究竟应该创建哪个具体类的对象。外界与具体类隔离开来，偶合性低。明确区分了各自的职责和权力，有利于整个软件体系结构的优化**

---

## 那么怎么使用简单工厂模式呢？
**就上述设计计算器程序为例，抽象接口及其实现类如下**
```java
//接口类
public interface Operation{
	public double getResult(double numA,double numB);
}
//实现类
public class OperationAdd implements Operation{
    //实现接口中的同名方法，这样客户端可以通过工厂类返回的向上转型的对象实例进行动态绑定调用具体方法
	public double getResult(double numA,double numB){
    	return numA+numB;
    }
}
//其他实现类同理
```
**工厂类如下**
```java
public class OperationFactory{
    //简单工厂类中用静态方法，返回类型为抽象接口，通过多态得到不同对象的实例
	public static Operation createOperation(String operate){
    	switch(operate){
            if operate.equals("+")
                return new OperationAdd();
            else if operate.equals("-")
                return new OperationSub();
            else if   ...
                ...
        }
    }
}
```
**客户端代码如下**
```java
//通过多态的向上转型和动态绑定，虽然是抽象接口的对象，但是可以使用具体实现类的具体方法
Operator oper = OperatorFactory.getOperator("+");
double result = oper.getResult(1,2);
```
